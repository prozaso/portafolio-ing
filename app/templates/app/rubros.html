{% extends 'app/base.html' %}
{% load static %}

{% block contenido %}

{% if user.es_administrador %}

<form action="" method="POST">
    {% csrf_token %}
    <div class="row mb-3">
      <div class="col col-lg-2">
        <div class="input-group-text">Rubro</div>
      </div>
      <div class="col col-lg-4">
        <select class="form-select" id="cborub" name="cborub" form-select-sm" aria-label=".form-select-sm example">
          <option value="0" selected>Seleccione...</option>
          {% for r in rubros %}
          <option value="{{ r.0 }}"> {{ r.1 }} </option>
          {% endfor %}
        </select>
      </div>
      <div class="col col-lg-2">
        <button type="submit" name="buscar" class="btn btn-primary">Buscar</button>
      </div>
    </div>

    {% for r in rubro %}
    <div class="row mb-3">
      <div class="col col-lg-2">
        <div class="input-group-text">ID</div>
      </div>
      <div class="col col-lg-4">
        <input type="text" value="{{ r.0 }}" name="idrubro" class="form-control" id="autoSizingInputGroup" placeholder="id" readonly>
      </div>
      <div class="col col-lg-2">
      </div>
    </div>

    <div class="row mb-3">
      <div class="col col-lg-2">
        <div class="input-group-text">Nombre rubro</div>
      </div>
      <div class="col col-lg-4">
        <input type="text" value="{{ r.1 }}" name="nrubro" class="form-control" id="autoSizingInputGroup" placeholder="nombre rubro">
      </div>
      <div class="col col-lg-2">
      </div>
    </div>

    {% empty %}
    <div class="row mb-3">
      <div class="col col-lg-2">
        <div class="input-group-text">ID</div>
      </div>
      <div class="col col-lg-4">
        <input type="text" name="idrubro" class="form-control" id="autoSizingInputGroup" placeholder="id" disabled readonly>
      </div>
      <div class="col col-lg-2">
      </div>
    </div>
    
    <div class="row mb-3">
      <div class="col col-lg-2">
        <div class="input-group-text">Nombre rubro</div>
      </div>
      <div class="col col-lg-4">
        <input type="text" name="nrubro" class="form-control" id="autoSizingInputGroup" placeholder="nombre rubro">
      </div>
      <div class="col col-lg-2">
      </div>
    </div>
    {% endfor %}

    <div class="mt-3">
      <button type="submit" name="guardar"  class="btn btn-warning">  Guardar cambios</button>
      <button type="submit" name="agregar"  class="btn btn-success">  Guardar nuevo</button>
      <button type="submit" name="eliminar" class="btn btn-danger">   Eliminar</button>
    </div>
</form>
  
<!-- MENSAJES -->
<div>
  {% if rubro_no_seleccionado %}
  <div class="alert alert-warning alert-dismissible fade show mt-3" role="alert">
    <strong>Hola!, </strong> {{ rubro_no_seleccionado }}
  </div>
  {% endif %}

  {% if eliminar %}
  <div class="alert alert-warning alert-dismissible fade show mt-3" role="alert">
    <strong>Hola!, </strong> {{ eliminar }}
  </div>
  {% endif %}

  {% if agregar %}
  <div class="alert alert-warning alert-dismissible fade show mt-3" role="alert">
    <strong>Hola!, </strong> {{ agregar }}
  </div>
  {% endif %}

  {% if modificar %}
  <div class="alert alert-warning alert-dismissible fade show mt-3" role="alert">
    <strong>Hola!, </strong> {{ modificar }}
  </div>
  {% endif %}
</div>
<!-- FIN MENSAJES -->

{% endif %}

{% endblock %}